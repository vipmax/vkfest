from shapely.geometry import Polygon, Point

zones = [
    {
        'polygon': Polygon([
            (59.9837430, 30.1950034),
            (59.9834886, 30.1969351),
            (59.9832802, 30.1970352),
            (59.9830423, 30.1972017),
            (59.9827657, 30.1975165),
            (59.9829024, 30.1971015),
            (59.9830140, 30.1967239),
            (59.9830784, 30.1962518),
            (59.9831428, 30.1958398),
            (59.9832115, 30.1956338),
            (59.9833317, 30.1953591),
            (59.9834863, 30.1951532),
            (59.9836022, 30.1950330),
            (59.9837430, 30.1950034)
        ]),
        'zone': 'games'
    },
    {
        'polygon': Polygon([
            (59.9834886, 30.1969351),
            (59.9832802, 30.1970352),
            (59.9830423, 30.1972017),
            (59.9828466, 30.1974191),
            (59.9827657, 30.1975165),
            (59.9829810, 30.1982776),
            (59.9831977, 30.1980375),
            (59.9833626, 30.1979168),
            (59.9834886, 30.1969351)
        ]),
        'zone': 'extreme'
    },
    {
        'polygon': Polygon([
            (59.9838392, 30.1942689),
            (59.9837430, 30.1950034),
            (59.9838578, 30.1950385),
            (59.9840355, 30.1950928),
            (59.9841486, 30.1950596),
            (59.9843035, 30.1950010),
            (59.9845633, 30.1948129),
            (59.9847132, 30.1946441),
            (59.9850176, 30.1940842),
            (59.9850863, 30.1936405),
            (59.9851600, 30.1931626),
            (59.9847808, 30.1929687),
            (59.9847198, 30.1933706),
            (59.9846298, 30.1937387),
            (59.9844907, 30.1940209),
            (59.9843229, 30.1942254),
            (59.9841326, 30.1943181),
            (59.9839219, 30.1943140),
            (59.9838392, 30.1942689)
        ]),
        'zone': 'innovations'
    },
    {
        'polygon': Polygon([
            (59.9823276, 30.1960205),
            (59.9827657, 30.1975165),
            (59.9825288, 30.1978311),
            (59.9822755, 30.1982602),
            (59.9820436, 30.1987409),
            (59.9818246, 30.1993589),
            (59.9814730, 30.1992013),
            (59.9814840, 30.1990671),
            (59.9815545, 30.1985981),
            (59.9816193, 30.1983341),
            (59.9816642, 30.1981515),
            (59.9818670, 30.1974689),
            (59.9819452, 30.1972172),
            (59.9822320, 30.1962391),
            (59.9823276, 30.1960205)
        ]),
        'zone': 'food'
    },
    {
        'polygon': Polygon([
            (59.9827657, 30.1975165),
            (59.9829024, 30.1971015),
            (59.9830140, 30.1967239),
            (59.9830784, 30.1962518),
            (59.9831085, 30.1958141),
            (59.9831171, 30.1953506),
            (59.9831171, 30.1948871),
            (59.9830708, 30.1940361),
            (59.9830299, 30.1938804),
            (59.9828799, 30.1932758),
            (59.9828965, 30.1935546),
            (59.9828637, 30.1941661),
            (59.9827821, 30.1946897),
            (59.9826705, 30.1951703),
            (59.9825632, 30.1955480),
            (59.9824386, 30.1959170),
            (59.9823276, 30.1960205),
            (59.9827657, 30.1975165)
        ]),
        'zone': 'fashion'
    },
    {
        'polygon': Polygon([
            (59.9830708, 30.1940361),
            (59.9833756, 30.1935730),
            (59.9832898, 30.1932995),
            (59.9832066, 30.1929508),
            (59.9831797, 30.1926343),
            (59.9831878, 30.1923017),
            (59.9832032, 30.1921623),
            (59.9829245, 30.1920198),
            (59.9828809, 30.1923122),
            (59.9828680, 30.1925782),
            (59.9828680, 30.1930761),
            (59.9828799, 30.1932758),
            (59.9830299, 30.1938804),
            (59.9830708, 30.1940361)
        ]),
        'zone': 'food'
    },
    {
        'polygon': Polygon([
            (59.9833756, 30.1935730),
            (59.9830708, 30.1940361),
            (59.9830999, 30.1944837),
            (59.9831171, 30.1948871),
            (59.9831171, 30.1953506),
            (59.9831085, 30.1958141),
            (59.9830784, 30.1962518),
            (59.9831428, 30.1958398),
            (59.9832115, 30.1956338),
            (59.9833317, 30.1953591),
            (59.9834863, 30.1951532),
            (59.9836022, 30.1950330),
            (59.9837430, 30.1950034),
            (59.9838701, 30.1940333),
            (59.9836789, 30.1939164),
            (59.9835018, 30.1937608),
            (59.9833756, 30.1935730)
        ]),
        'zone': 'art'
    },
    {
        'polygon': Polygon([
            (59.9840581, 30.1925993),
            (59.9829245, 30.1920198),
            (59.9818004, 30.1913361),
            (59.9819641, 30.1889382),
            (59.9837191, 30.1877902),
            (59.9845966, 30.1877634),
            (59.9845796, 30.1886210),
            (59.9840581, 30.1925993)
        ]),
        'zone': 'whitestage'
    },
    {
        'polygon': Polygon([
            (59.9838392, 30.1942689),
            (59.9839040, 30.1937752),
            (59.9839739, 30.1932418),
            (59.9840581, 30.1925993),
            (59.9844907, 30.1940209),
            (59.9843229, 30.1942254),
            (59.9841326, 30.1943181),
            (59.9839219, 30.1943140),
            (59.9838392, 30.1942689)
        ]),
        'zone': 'bloggers'
    },
    {
        'polygon': Polygon([
            (59.9840581, 30.1925993),
            (59.9844907, 30.1940209),
            (59.9846298, 30.1937387),
            (59.9847198, 30.1933706),
            (59.9847808, 30.1929687),
            (59.9843848, 30.1927663),
            (59.9840581, 30.1925993)
        ]),
        'zone': 'zoj'
    },
    {
        'polygon': Polygon([
            (59.9837430, 30.1950034),
            (59.9838578, 30.1950385),
            (59.9836078, 30.1969129),
            (59.9834347, 30.1982104),
            (59.9832832, 30.1993458),
            (59.9832116, 30.1990926),
            (59.9834886, 30.1969351),
            (59.9837430, 30.1950034)
        ]),
        'zone': 'market'
    },
    {
        'polygon': Polygon([
            (59.9836078, 30.1969129),
            (59.9840878, 30.1967279),
            (59.9841046, 30.1966552),
            (59.9842506, 30.1962432),
            (59.9842205, 30.1960200),
            (59.9841733, 30.1957025),
            (59.9841475, 30.1954364),
            (59.9841482, 30.1951850),
            (59.9841486, 30.1950596),
            (59.9840355, 30.1950928),
            (59.9838578, 30.1950385),
            (59.9836078, 30.1969129)
        ]),
        'zone': 'zoj'
    },
    {
        'polygon': Polygon([
            (59.9836078, 30.1969129),
            (59.9840878, 30.1967279),
            (59.9840531, 30.1968784),
            (59.9840273, 30.1971702),
            (59.9840230, 30.1974620),
            (59.9839629, 30.1979942),
            (59.9839329, 30.1984233),
            (59.9838556, 30.1986465),
            (59.9837826, 30.1987924),
            (59.9837010, 30.1989726),
            (59.9834347, 30.1982104),
            (59.9836078, 30.1969129)
        ]),
        'zone': 'humor'
    },
    {
        'polygon': Polygon([
            (59.9842506, 30.1962432),
            (59.9843361, 30.1968725),
            (59.9843683, 30.1971739),
            (59.9844340, 30.1973810),
            (59.9845779, 30.1974797),
            (59.9842791, 30.1997572),
            (59.9841655, 30.1997326),
            (59.9839814, 30.1997255),
            (59.9837010, 30.1989726),
            (59.9837826, 30.1987924),
            (59.9838556, 30.1986465),
            (59.9839329, 30.1984233),
            (59.9839629, 30.1979942),
            (59.9840230, 30.1974620),
            (59.9840273, 30.1971702),
            (59.9840531, 30.1968784),
            (59.9840878, 30.1967279),
            (59.9841046, 30.1966552),
            (59.9842506, 30.1962432)
        ]),
        'zone': 'recordstage'
    },
    {
        'polygon': Polygon([
            (59.9839814, 30.1997255),
            (59.9838353, 30.1997804),
            (59.9836429, 30.1998961),
            (59.9835316, 30.1999987),
            (59.9835244, 30.1999718),
            (59.9834995, 30.1999408),
            (59.9834878, 30.1999400),
            (59.9834701, 30.1999389),
            (59.9834554, 30.1999546),
            (59.9832832, 30.1993458),
            (59.9834347, 30.1982104),
            (59.9837010, 30.1989726),
            (59.9839814, 30.1997255)
        ]),
        'zone': 'kids'
    },
    {
        'polygon': Polygon([
            (59.9829810, 30.1982776),
            (59.9831977, 30.1980375),
            (59.9833626, 30.1979168),
            (59.9832116, 30.1990926),
            (59.9829810, 30.1982776)
        ]),
        'zone': 'kids'
    },
    {
        'polygon': Polygon([
            (59.9837053, 30.2008378),
            (59.9835094, 30.2001454),
            (59.9834832, 30.2000517),
            (59.9834359, 30.2001056),
            (59.9833731, 30.2001894),
            (59.9832443, 30.2004125),
            (59.9831198, 30.2006700),
            (59.9835033, 30.2011975),
            (59.9835959, 30.2010037),
            (59.9837053, 30.2008378)
        ]),
        'zone': 'lecture'
    },
    {
        'polygon': Polygon([
            (59.9835033, 30.2011975),
            (59.9834122, 30.2014202),
            (59.9833652, 30.2016271),
            (59.9832436, 30.2015720),
            (59.9832490, 30.2015375),
            (59.9832504, 30.2014518),
            (59.9832302, 30.2013762),
            (59.9831938, 30.2013309),
            (59.9831509, 30.2013280),
            (59.9831131, 30.2013684),
            (59.9830904, 30.2014412),
            (59.9830840, 30.2014826),
            (59.9829497, 30.2014082),
            (59.9828567, 30.2013509),
            (59.9824211, 30.2010028),
            (59.9825082, 30.2005736),
            (59.9825878, 30.2002597),
            (59.9826758, 30.2000018),
            (59.9827693, 30.1997108),
            (59.9828522, 30.2000565),
            (59.9828856, 30.2001908),
            (59.9829101, 30.2003862),
            (59.9831198, 30.2006700),
            (59.9835033, 30.2011975)
        ]),
        'zone': 'art'
    },
    {
        'polygon': Polygon([
            (59.9827693, 30.1997108),
            (59.9826758, 30.2000018),
            (59.9825878, 30.2002597),
            (59.9825082, 30.2005736),
            (59.9824211, 30.2010028),
            (59.9819842, 30.2006536),
            (59.9815885, 30.2003134),
            (59.9816529, 30.2000112),
            (59.9818246, 30.1993589),
            (59.9821506, 30.1999657),
            (59.9823094, 30.1995365),
            (59.9824941, 30.1990816),
            (59.9825550, 30.1989762),
            (59.9826705, 30.1993331),
            (59.9827693, 30.1997108)
        ]),
        'zone': 'compgames'
    },
    {
        'polygon': Polygon([
            (59.9814730, 30.1992013),
            (59.9814840, 30.1990671),
            (59.9815545, 30.1985981),
            (59.9816193, 30.1983341),
            (59.9816642, 30.1981515),
            (59.9818670, 30.1974689),
            (59.9819452, 30.1972172),
            (59.9822320, 30.1962391),
            (59.9823276, 30.1960205),
            (59.9822213, 30.1958904),
            (59.9812556, 30.1953695),
            (59.9804021, 30.1949297),
            (59.9797661, 30.1975421),
            (59.9798332, 30.1983039),
            (59.9812269, 30.1990666),
            (59.9814730, 30.1992013)
        ]),
        'zone': 'sport'
    },
    {
        'polygon': Polygon([
            (59.9823276, 30.1960205),
            (59.9824386, 30.1959170),
            (59.9825632, 30.1955480),
            (59.9826705, 30.1951703),
            (59.9827821, 30.1946897),
            (59.9828637, 30.1941661),
            (59.9828965, 30.1935546),
            (59.9828799, 30.1932758),
            (59.9828680, 30.1930761),
            (59.9828680, 30.1925782),
            (59.9828809, 30.1923122),
            (59.9829245, 30.1920198),
            (59.9818004, 30.1913361),
            (59.9810936, 30.1918651),
            (59.9803623, 30.1922367),
            (59.9802561, 30.1942470),
            (59.9804021, 30.1949297),
            (59.9822213, 30.1958904),
            (59.9823276, 30.1960205)
        ]),
        'zone': 'drive'
    },
    {
        'polygon': Polygon([
            (59.9827657, 30.1975165),
            (59.9826190, 30.1978311),
            (59.9825460, 30.1981057),
            (59.9825073, 30.1985177),
            (59.9825550, 30.1989762),
            (59.9824941, 30.1990816),
            (59.9823094, 30.1995365),
            (59.9821506, 30.1999657),
            (59.9818246, 30.1993589),
            (59.9820436, 30.1987409),
            (59.9822755, 30.1982602),
            (59.9825288, 30.1978311),
            (59.9827657, 30.1975165)
        ]),
        'zone': 'kosplay'
    },
    {
        'polygon': Polygon([
            (59.9818246, 30.1993589),
            (59.9816529, 30.2000112),
            (59.9815885, 30.2003134),
            (59.9815588, 30.2004525),
            (59.9814480, 30.2003667),
            (59.9812971, 30.2003466),
            (59.9812253, 30.2002044),
            (59.9812269, 30.1990666),
            (59.9814730, 30.1992013),
            (59.9818246, 30.1993589)
        ]),
        'zone': 'vkshop'
    },
    {
        'polygon': Polygon([
            (59.9812269, 30.1990666),
            (59.9812253, 30.2002044),
            (59.9812971, 30.2003466),
            (59.9814480, 30.2003667),
            (59.9815588, 30.2004525),
            (59.9814829, 30.2011094),
            (59.9812582, 30.2017861),
            (59.9809655, 30.2025058),
            (59.9808749, 30.2025321),
            (59.9808170, 30.2024954),
            (59.9797114, 30.2012117),
            (59.9792863, 30.2003702),
            (59.9794978, 30.1985732),
            (59.9798332, 30.1983039),
            (59.9812269, 30.1990666)
        ]),
        'zone': 'bluestage'
    },
    {
        'polygon': Polygon([
            (59.9851600, 30.1931626),
            (59.9847808, 30.1929687),
            (59.9847853, 30.1925813),
            (59.9847484, 30.1922173),
            (59.9846666, 30.1918574),
            (59.9845418, 30.1915997),
            (59.9843945, 30.1914279),
            (59.9842266, 30.1913134),
            (59.9843346, 30.1904897),
            (59.9845612, 30.1907204),
            (59.9848149, 30.1910476),
            (59.9849827, 30.1913911),
            (59.9850932, 30.1917428),
            (59.9851402, 30.1920987),
            (59.9851933, 30.1929790),
            (59.9851600, 30.1931626)
        ]),
        'zone': 'sport'
    }
]


def get_zone(lat, lon):
    for zone in zones:
        contains = zone['polygon'].contains(Point(lat, lon))
        if contains:
            print(lat, lon, zone['zone'], contains)
            return zone['zone']

    return "nozone"

if __name__ == '__main__':

    print("Should be in humor")
    for z in zones:
        print(z['zone'], z['polygon'].contains(Point(59.983870, 30.197390)))

    print("Should be in kosplay")
    for z in zones:
        print(z['zone'], z['polygon'].contains(Point(59.982331, 30.198785)))
